---
/**
 * * A simple banner used on every page except the homepage
 * * Takes a title and an image as props
 */

// Utils
import { Picture } from "astro:assets";
import type { GetImageResult } from "astro";

interface Props {
	title: string; // heading text
	image: GetImageResult; // pre-optimized image from getImage()
}

const { title, image } = Astro.props;
---

<div id="banner-559">
	<div class="cs-container">
		<span class="cs-int-topper">Building Communities</span>
		<span class="cs-int-title">{title}</span>
		<div class="cs-breadcrumbs">
			<a href="/" class="cs-link">Home</a>
			<a href="" class="cs-link cs-active">{title}</a>
		</div>
	</div>
	<picture class="cs-background">
		<Picture
			src={image.src}
			width={image.attributes.width}
			height={image.attributes.height}
			formats={["avif", "webp"]}
			alt=""
			priority
		/>
	</picture>
</div>

<!-- <section id="int-hero">
	<h1 id="home-h">{title}</h1>

	<Picture
		src={image.src}
		width={image.attributes.width}
		height={image.attributes.height}
		formats={["avif", "webp"]}
		alt=""
		priority
	/>
</section> -->

<style lang="less">
	/* Mobile - 360px */
	@media only screen and (min-width: 0rem) {
		#banner-559 {
			padding: var(--sectionPadding);
			/* 137px - 212px */
			padding-top: clamp(10.5625rem, 25vw, 13.25rem);
			/* clips the line from causing overflow issues for going off screen */
			overflow: hidden;
			position: relative;
			z-index: 1;

			.cs-container {
				text-align: center;
				width: 100%;
				max-width: (1280/16rem);
				margin: auto;
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: flex-start;
				flex-direction: column;
				gap: (16/16rem);
			}

			.cs-int-topper {
				font-size: var(--topperFontSize);
				text-transform: uppercase;
				font-weight: 700;
				letter-spacing: 0.01em;
				margin: 0;
				padding: 0 0 0 (20/16rem);
				color: var(--bodyTextColorWhite);
				display: block;
				position: relative;

				&:before {
					/* yellow line */
					content: "";
					width: 50vw;
					height: 2px;
					background: var(--secondary);
					opacity: 1;
					position: absolute;
					display: block;
					top: 50%;
					right: 100%;
					transform: translateY(-50%);
				}
			}

			.cs-int-title {
				/* 39px - 61px */
				font-size: clamp(2.4375rem, 6.4vw, 3.8125rem);
				font-weight: 900;
				line-height: 1.2em;
				text-align: inherit;
				margin: 0;
				color: var(--bodyTextColorWhite);
				position: relative;
			}

			.cs-breadcrumbs {
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.cs-link {
				/* 16px - 20px */
				font-size: clamp(1rem, 1.5vw, 1.25rem);
				line-height: 1.2em;
				text-decoration: none;
				color: var(--bodyTextColorWhite);
				position: relative;
				display: flex;
				justify-content: center;
				align-items: center;

				&:last-of-type {
					/* remove the chevron on the last list item */
					&::after {
						display: none;
					}
				}

				&:after {
					/* chevron - added as pseudo to make adding and removing them easier */
					content: "";
					width: (30/16rem);
					height: (2/16rem);
					/* 12px - 24px */
					margin: 0 clamp(0.75rem, 2vw, 1.5rem);
					background-color: #fff;
				}

				&.cs-active {
					color: var(--secondary);
				}
			}

			.cs-background {
				width: 100%;
				height: 100%;
				display: block;
				position: absolute;
				top: 0;
				left: 0;
				z-index: -1;

				&:before {
					/* background color overlay */
					content: "";
					position: absolute;
					display: block;
					height: 100%;
					width: 100%;
					background: var(--backgroundBreakBlue);
					opacity: 0.5;
					top: 0;
					left: 0;
					z-index: 1;
				}

				img {
					position: absolute;
					top: 0;
					left: 0;
					height: 100%;
					width: 100%;
					/* Makes img tag act as a background image */
					object-fit: cover;
				}
			}
		}
	}
</style>
